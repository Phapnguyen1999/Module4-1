<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>WithDraw</title>
    <th:block th:replace="/layout/head :: head" />
</head>

<body>
    <div class="container-fluid">
        <div class="table container-fluid w-90">
            <div class="bg-info table-title">
                <div class="row margin-left-20">
                    <div class="col-7 table-title-content text-light">
                        <h3>Withdraw money from the customer's account</h3>
                    </div>
                    <div class="col-5 table-title-content">
                        <a th:href="@{/customer}" class="btn btn-outline-light table-right">
                            <i class="fa-solid fa-bars"></i>
                            <span>List Of Customer</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <form class=" table container-fluid w-90" th:object="${withdraw}" method="post">
            <div class="form-group row">
                <div class="col-md-6 margin-top-20">
                    <div class="form-group row">
                        <label class="form-label font-weight-bold">Customer ID</label>
                        <div class="col-sm-12">
                            <input type="text" class="w-100 form-control" id="customerID" readonly th:field="*{customerId}">
                        </div>
                    </div>
                </div>
                <div class="col-md-6 margin-top-20">
                    <div class="form-group row">
                        <label class="form-label font-weight-bold">Full Name</label>
                        <div class="col-sm-12">
                            <input type="text" class="w-100 form-control" id="fullName" readonly th:value="${customer.fullName}">
                        </div>
                    </div>
                </div>
                <div class="col-md-6 margin-top-20">
                    <div class="form-group row">
                        <label class="form-label font-weight-bold">Current balance ($)</label>
                        <div class="col-sm-12">
                            <input type="text" class="w-100 form-control" id="balance" readonly th:value="${customer.balance}">
                        </div>
                    </div>
                </div>
                <div class="col-md-6 margin-top-20">
                    <div class="form-group row">
                        <label class="form-label font-weight-bold">Transaction Amount ($)</label>
                        <div class="col-sm-12">
                            <input type="text" class="w-100 form-control" id="transactionAmount" th:field="*{transaction_amount}">
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 margin-top-20">
                <button type="submit" class="btn btn-outline-warning">
                    <i class="fa-solid fa-minus"></i>
                    Withdraw
                </button>
            </div>
        </form>
    </div>
    <div class="footer w-100" style="bottom: 0" id="footer">
        <div id="message-alert">
            <th:block th:if="${errors}!=null">
                <span class="float-left close" onclick="myFuntion()">X</span>
                <div class="alert-danger">
                    <h5>Error message:</h5>
                    <ul>
                        <li th:text="${errors}"></li>
                    </ul>
                </div>
            </th:block>
            <th:block th:if="${script} == true">
                <span class="float-left" onclick="myFuntion()">X</span>
                <div class="alert-danger">
                    <h5>Please correct errors below:</h5>
                    <ul>
                        <li th:each="err : ${#fields.errors('withdraw.*')}" th:text="${err}"></li>
                    </ul>
                </div>
            </th:block>
            <th:block th:if="${success}!=null">
                <span class="float-left" onclick="myFuntion()">X</span>
                <div >
                    <h5 class="alert-success pt-2 pl-2" th:text="${success}" style="height: 100px">
                    </h5>
                </div>
            </th:block>
        </div>
    </div>
    <th:block th:replace="/layout/footer::footer"/>
    <script>
        function myFuntion(){
            document.getElementById("footer").classList.add("d-none");
        }
    </script>
</body>

</html>